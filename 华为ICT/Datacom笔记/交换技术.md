# 以太网交换基础
## 以太网协议
以太网是局域网（LAN）的协议，采用CSMA/CD的方法

**冲突域**
![[Pasted image 20231020102131.png]]
**广播域**
![[Pasted image 20231020102150.png]]
**以太网卡**
一块网卡包括OSI 模型的两个层，物理层和数据链路层

网卡的功能主要有两个：
1. 将电脑的数据封装为帧，并通过网线(对无线网络来说就是电磁波)将数据发送到网络上去
2. 接收网络上其它设备传过来的帧，并将帧重新组合成数据，发送到所在的电脑中

## 以太网帧
![[Pasted image 20231020102558.png]]
详细可见计网部分的以太网帧：
![[Pasted image 20231018101644.png]]

**MAC地址**
![[Pasted image 20231020102947.png]]
单播就是点对点发送
组播是向部分设备发送
广播是向所有设备发送

## 以太网交换机
以太网二层交换机转发数据的端口都是以太网口，并且只能够针对数据的二层头部 (以太网数据帧头) 中的MAC地址进行寻址并转发数据。

其他特性可在计网中查询

# VLAN
**VLAN基本概念**
VLAN就是将一个物理交换机划分为多个虚拟交换机，类似下图：
![[Pasted image 20231020110708.png]]

交换机之间需要进行帧的交换，就涉及到如何识别不同VLAN的帧：
![[Pasted image 20231020110800.png]]

我们在帧中加入Tag字段，从而识别不同VLAN。
![[Pasted image 20231020110826.png]]

**VLAN划分方式**
![[Pasted image 20231020111146.png]]

**VLAN中的接口**
![[Pasted image 20231020112745.png]]
Access接口一般用于和不能识别Tag的用户终端（如用户主机、服务器）相连：用户终端无法识别何添加VLAN ID，因而需要由交换机完成。

Trunk接口一般用于连接交换机、路由器、AP：负责将带有tag的帧进行相互传递

Hybrid（杂交）接口既可以用于连接不能识别Tag的用户终端（如用户主机、服务器）和网络设备（如Hub），也可以用于连接交换机、路由器。

一般还是Access和Trunk两种接口用的多。

