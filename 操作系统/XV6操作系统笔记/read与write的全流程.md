# 概述
XV6中有一个名为UART0的设备，负责管理键盘的输入以及显示屏的输出，根据内核虚拟地址空间与`kvminit()`函数，我们可以查看到该设备映射的虚拟地址为`0x10000000`。设备对应的各类寄存器也被映射到地址空间中，因而我们可以通过向地址写入或读出的方式来控制设备。

本文不深究设备各类寄存器的作用，也不涉及设备的各项初始化，实在是过于繁杂。本文聚焦于内核如何通过驱动程序与设备中断来实现**读取键盘输入**与**显示屏输出**。

# write流程
## 概述
![[Pasted image 20240103185327.png]]
write系统调用可以向指定的文件描述符进行写入，根据unix的设计思想“一切皆文件”，在XV6中设备也可以作为一个文件描述符，我们就可以通过打开设备得到其文件mi'a