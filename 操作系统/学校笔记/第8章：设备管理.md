# 设备管理概述
## 设备分类
- 设备是计算机系统中除CPU、主存以外的所有设备，也称外部设备
- 存储设备
- I/O设备
- 通信设备

## 目标
1. 提高设备利用率
2. 方便用户使用

## 设备管理的功能
1. 状态跟踪：设备状态信息保留在设备控制块中
2. 设备分配
	- 静态分配：程序进⼊系统的时候就进⾏分配，退出系统的时候回收全部资源
	- 动态分配：进程提出设备申请的时候进行分配，使⽤完毕⽴即收回
3. 设备控制：每个设备都有I/O指令

## 设备独立性
概念：
- ⽤户在程序中使⽤的设备与实际使⽤的设备⽆关，也就是说在⽤户程序中，只使⽤逻辑设备名
- 逻辑设备名：⽤户⾃⼰指定的设备名，可以更改
- 物理设备名：系统提供的设备的标准名称，是永久的，可以更改的
- 系统可以根据设备的使⽤情况，动态地分配给程序中某类设备中的任⼀⼀台物理设备,程序都可以正确运⾏
- 在输⼊/输出信息的时候，信息可以从不同类型的设备上输⼊输出

实现：
1. 软通道实现设备独立性
2. 通过指派命令实现设备独立性
3. 逻辑设备描述器：
	- 用于描述进程内逻辑设备名和物理设备名的对应关系
	- 内容包括逻辑设备名、物理设备名、设备控制快dcb指针、下一描述器指针
	- ![[Pasted image 20231130092459.png]]

## 设备控制块
设备控制块用于记录设备的硬件特性、连接和使用情况等信息
![[Pasted image 20231130092718.png]]

其中命令转换表记录了一台设备能实施的I/O操作，表中包含了设备特定的I/O例程地址，不具备某一功能时，其例程地址为-1

# 缓冲技术
## 定义
两种不同速度的设备之间传输信息的平滑传输过程

## 为什么要缓冲
- 处理数据流⽣产者与消费者速度差异 
- 协调传输数据⼤⼩不⼀致的设备 
- 应⽤程序拷⻉语义（？）

## 单缓冲操作
- 读设备得数据
	- ⾸先获得⼀个空的缓冲区
	- 设备会把物理记录(数据\[从设备来的])送到缓冲区中
	- ⽤户请求数据时，系统将从缓冲区提取数据并发送到⽤户进程存储区
	- 如果⽤户请求数据缓冲区⼜没有怎么办？等待！
	

