# 创建一个系统调用的方法
## User Space
- 在***Makefile***的**UPROGS**中添加需要的应用程序（不是系统调用）
- 将系统调用的原型添加到***user/user.h***
- 存根添加到***user/usys.pl***（看到就知道怎么写了）
- 将系统调用编号添加到***kernel/syscall.h***

完成以上工作后，
# System call tracing
>在本作业中，您将添加一个系统调用跟踪功能，该功能可能会在以后调试实验时对您有所帮助。您将创建一个新的`trace`系统调用来控制跟踪。它应该有一个参数，这个参数是一个整数“掩码”（mask），它的比特位指定要跟踪的系统调用。例如，要跟踪`fork`系统调用，程序调用`trace(1 << SYS_fork)`，其中`SYS_fork`是***kernel/syscall.h***中的系统调用编号。如果在掩码中设置了系统调用的编号，则必须修改xv6内核，以便在每个系统调用即将返回时打印出一行。该行应该包含进程id、系统调用的名称和返回值；您不需要打印系统调用参数。`trace`系统调用应启用对调用它的进程及其随后派生的任何子进程的跟踪，但不应影响其他进程。

