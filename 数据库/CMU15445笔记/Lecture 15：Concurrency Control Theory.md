# Transaction（事务）
事务是在数据库上执行一系列的一个或多个操作(例如SQL查询)，以执行一些高级功能。

事务必须是原子的，不能是部分的。

事务是数据库执行的最基本单位：默认一个SQL语句就是一个事务，当然也可以指定多个SQL语句为一个事务

数据库本身只关注数据的读出和写入，不知道外部世界的要求。因而数据库需要单单依靠SQL语句来判断是否能并发执行事务

# Definition
数据库：一个数据库可以表示为一组固定的命名数据对象。这些对象可以是属性、元组、页面、表。

事务：事务是在这些对象上的一系列读写操作(即 R(A)， W(B))。为了简化讨论，这个定义假设数据库是一个固定大小的，因此操作只能是读取和更新，而不是插入或删除。

事务的边界由客户端定义。在 SQL 中，事务以 BEGIN 命令开始。事务的结果是 COMMIT 或 ABORT。
- 对于 COMMIT，要么将事务的所有修改保存到数据库中，要么 DBMS 覆盖它并中止
- 对于 ABORT（ROLLBACK） ，事务的所有更改都将撤消，因此就像事务从未发生过一样。中断可以是自己造成的，也可以是由 DBMS 引起的

**事务正确性**的标准：ACID
- Atomicity（原子性）：事务内的操作要么都发生，要么都不发生
- Consistency（一致性）：数据库在事务开始前和结束后是一致的，即总的规则不会不胜变化
- Isolation（隔离性）：一个事务在执行时，应有一种与其他事务隔离的错觉
- Durability（持久性）：事务提交后，对数据库的影响应该是永久的

# ACID：Atomicity
事务执行的结局：要么都执行，要么都不执行
- Commit after completing all its actions
- Abort (or be aborted by the DBMS) after executing some actions

**实现方式一：日志**
